# 模反元素數學競賽遊戲

這是一個基於網頁的多人模反元素計算競賽遊戲，玩家可以通過房間ID互相連接，比賽誰能更快地計算出模反元素。

## 遊戲規則

1. 由一位玩家負責創建房間，設定房間 ID、模式、難度、秒數等
1. 其他玩家透過「加入遊戲」進入遊戲
2. 系統會隨機生成數道問題，每道問題包含一個質數 p (11-50) 和一個數字a (0-p-1)
3. 玩家需要計算 a 在模 p 下的模反元素
4. 遊戲計分如下：
   - 在「搶快」模式下，第一個回答正確的玩家獲得分數
   - 在「比速度」模式下，會根據回答的相對時間給予分數
5. 數道題目結束後，分數高的玩家獲勝

## 其他細節
每個玩家可以註冊一個帳號，並記錄 Rating，根據遊戲結果計算 Rating 變化。

## 技術細節
- 後端：Python + Flask + Socket.IO
- 前端：HTML + CSS + JavaScript + Socket.IO client
- By：Claude AI

## 安裝說明
1. 確保已安裝 Python 3.6 或更高版本
2. 安裝必要的依賴：

```bash
pip install flask flask-socketio eventlet
```

3. 下載或克隆本倉庫
4. 啟動服務器：

```bash
python app.py
```

5. 在瀏覽器中打開 `http://localhost:8000`
6. 創建遊戲房間並分享房間ID給另一位玩家

## 模反元素的計算方法

在模p的算術中，a的模反元素是指一個數x，使得 a·x ≡ 1 (mod p)。

幾種計算方法：

1. **暴力法**：試算1到p-1中哪個數乘以a後mod p得到1
2. **擴展歐幾里得算法**：最有效的方法，可以計算 ax + by = gcd(a, b) 中的x和y
3. **費馬小定理**：若p為質數且a與p互質，則 a^(p-1) ≡ 1 (mod p)，因此 a^(p-2) ≡ a^(-1) (mod p)

## 範例

例如，找出3在模7下的模反元素：
- 計算 3 × x ≡ 1 (mod 7)
- 試算：3 × 1 = 3 (mod 7) ❌
- 試算：3 × 2 = 6 (mod 7) ❌
- 試算：3 × 3 = 9 ≡ 2 (mod 7) ❌
- 試算：3 × 4 = 12 ≡ 5 (mod 7) ❌
- 試算：3 × 5 = 15 ≡ 1 (mod 7) ✓

所以3在模7下的模反元素是5。

## 故障排除
- 如果遊戲連接出現問題，請確保所有玩家能訪問服務器 IP 和端口
- 如果出現 "房間已滿" 錯誤，表示該房間已有兩名玩家
- 重啟服務器將清除所有房間數據